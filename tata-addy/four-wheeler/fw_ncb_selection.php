<style>
    .navbar-brand {
        height: auto !important;
        padding: 0px 15px !important;
    }

    .nav-logo {
        margin: 0 auto;
    }

    body {
        background: #f8f9fa;
    }

    [type="radio"]:checked,
    [type="radio"]:not(:checked) {
        position: inherit;
        opacity: 0;
    }

    .main-wrapper {
        width: 90%;
        margin: 5% auto;
    }

    .main-wrapper .left-area {
        background-color: #f17d00;
        padding: 30px;
        border-radius: 7px 0px 0px 7px;
    }

    .main-wrapper .left_content h5 {
        color: #fff;
    }

    .main-wrapper .left_content p {
        color: #fff;
    }

    .heading-main {
        color: #333333;
    }

    .heading-main-sub {
        color: #333333;
    }

    .right-area {
        padding-top: 3%;
        background-color: #fcfcfc;
        border-radius: 7px;
        box-shadow: 0px 1px 7px 3px #ccc;
        padding: 12px 12px 0px 12px;
        margin-top: 2%;
    }

    /* .stepper{
    padding-bottom: 25px;
}
.stepper ul {
    display: flex;
    counter-reset: step;
}
.stepper ul li {
    position: relative;
    height: 30px;
    width: 100%;
    list-style-type:none;
}
.stepper ul li::after {
    content: "";
    display: inline-block;
    width: 100%;
    height: 2px;
    background: #dbdbdb;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1;
}
.stepper ul li::before {
    content: counter(step);
    counter-increment: step;
    width: 30px;
    height: 30px;
    background: #d8d8d8;
    border-radius: 50%;
    display: inline-block;
    color: #9b9b9b;
    text-align: center;
    line-height: 30px;
    font-size: 14px;
    z-index: 3;
    position: absolute;
    top: -1px;
    left: -1px;
    color: #fff;
}
.stepper ul li.active::before {
background: linear-gradient(to bottom,#e29541 0,#f17d00 100%);
}
.stepper ul li.active span::before {
    content: "";
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 1px solid #f17d00;
    position: absolute;
    left: -6px;
    top: -6px;
    z-index: 2;
    background: #fff;
} */


    .icon-lab-hover {
        background-color: #208e23;
        color: #fff !important;
        border: 2px solid #208e23 !important;
    }

    .red.icon-lab-hover {
        background-color: #f17d00;
        color: #fff !important;
        border: 2px solid #f17d00 !important;
    }

    .main-form-content .box-icon {
        display: inline-grid;
        padding-left: 0;
        margin-right: 10px;
    }

    .main-form-content .icon-lab i {
        font-size: 40px;
    }

    .main-form-content .icon-lab i {
        display: grid;
        text-align: center;
    }

    .form-row label {
        font-size: 15px;
        color: #000;
        font-weight: 600;
    }

    .form-btn {
        margin: 0% auto;
        display: flex;
        margin-bottom: 2% !important;
        padding: 2% 16%;
        background-color: #f17d00;
        border-color: antiquewhite;
    }

    .form-control {
        text-transform: uppercase;
        height: 40px !important;
        border: 2px solid#ccc !important;
        font-size: 18px !important;
    }

    .form-row label {
        text-transform: uppercase;
    }

    .main-form-content .icon-lab {

        padding: 1px 40px;
        font-size: 17px;
        font-weight: 100;
        /* padding: 20% 0; */
        cursor: pointer;
        text-align: center;
        border-radius: 4px;
        border: 2px solid#ccc;
    }

    .main-form-content .icon-lab span {
        margin-right: 20px;
    }

    /* .main-form-content .box-icon {
      
} */
    .bootstrap-select.btn-group .dropdown-toggle .caret {
        top: 44% !important;
        right: 10px !important;
    }

    .form-btn {
        display: flex !important;
        padding: 1% 8% !important;
        background-color: #208e23 !important;
        border: none !important;
    }

    .input-group {
        display: flex !important;
    }

    .input-group-text {
        background-color: #1b3977;
        color: #fff;
        font-size: 15px;
    }

    .bottom-form-content {
        background-color: #fff;
        padding: 20px 0px;
        box-shadow: 0px 0px 4px #ccc;
    }

    .top-form-content {
        padding: 20px 0px;
    }

    .top-form-content .row {
        padding-bottom: 10px;
    }

    .bottom-form-content {
        padding: 20px 0px;
    }

    .bottom-form-content .form-control {
        background-color: #fcfcfc;
        text-align: center;
    }

    .bootstrap-select>.dropdown-toggle {
        padding: 7px;
        border-radius: 0px;
    }

    #show_div_onclick_yes {
        display: none;
    }

    #show_div_onclick_no {
        display: none;
    }

    .show_div {
        display: block !important;
    }
</style>
</div>
</nav>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css" rel="stylesheet" />


<section class="main-wrapper">
    <h2 style="text-align:center;color: #428bca;">FOUR WHEELER INSURANCE </h2>
    <h4 style="text-align:center;font-weight: 600;">PLEASE FILL THE DETAILS GIVEN BELOW TO GET BEST QUOTE FOR YOUR VEICHLE</h4>
    <div class="container">
        <div class="row">

            <div class="col-md-12 right-area">

                <form method="POST" action="<?php echo base_url(); ?>tata/fw_controller/car_ncb_selection_re/<?=$uid?>" id="ncbForm">
                    <input type="hidden" name="<?php echo $csrf['name']; ?>" value="<?php echo $csrf['hash']; ?>" />
                    <div class="main-form-content">

                        <div class="top-form-content">

                            <h4 class="text-center" style="font-weight: bold;">IS YOUR POLICY COMPREHENSIVE ?</h4>

                            <div class="text-center row">
                                <div class="col-md-12">
                                    <div class="form-check box-icon" onclick="document.getElementById('allhide').style.display = 'block'; document.getElementById('ncb-check').classList.remove('hidden');; /* document.getElementById('ncbForm').setAttribute('novalidate',''); */">
                                        <label class="form-check-label icon-lab icon-lab-hover" id="box-icon3" onclick="myFunctionterm(),removeterm()" for="exampleRadios3">
                                            <input required style="position:inherit; opacity:0;" class="form-check-input" name="isPreviousPolicyComprehensive" type="radio" id="exampleRadios3" value="1" checked>
                                            <span> Yes</span>
                                        </label>
                                    </div>
                                    <div class="form-check box-icon" onclick="document.getElementById('ncb-check').classList.add('hidden');" ;>
                                        <label class="form-check-label icon-lab red" id="box-icon4" onclick="myFunctionterm2(),removeterm2()" for="exampleRadios4">
                                            <input style="position:inherit; opacity:0;" class="form-check-input" name="isPreviousPolicyComprehensive" type="radio" id="exampleRadios4" value="0" onchange="checkIf(this)">
                                            <span>No</span>
                                        </label>
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="bottom-form-content" id="allhide">
                            <div class="form-row" id="allhide">
                                <div class="col-md-2"></div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Policy Expiry Date </label>
                                        <input type="date" class="form-control" name="previousPolicyExpiryDate" required value="" max="<?= $car_product_code == "LIABILITY" ? date('Y-m-d', strtotime("+90days")) : null ?>" min="<?= $car_product_code == 'LIABILITY' ? null : date('Y-m-d') ?>" placeholder="DD/MM/YYYY">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Previous Insurer</label>
                                        <select required class="form-control selectpicker" id="previous" name="previousInsurerCode" data-live-search="true">
                                            <option selected="" disabled data-tokens="...." value="">Previous Insurer</option>
                                            <?php foreach ($previous_insurer as $previous_insurer) { ?>
                                                <option value="<?php echo $previous_insurer->insurer_name; ?>"><?php echo $previous_insurer->insurer_name; ?></option>

                                            <?php } ?>


                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-2"></div>
                            </div>
                            <?php if($car_product_code == 'PACKAGE'): ?>
                            <div id="ncb-check">
                                <h4 style="font-weight: bold;" class="text-center">HAVE YOU MADE ANY CLAIM IN PREVIOUS YEAR</h4>
                                <div class="row">
                                    <div class="col-md-6 m-auto">

                                        <div class="text-center form-row" style="margin: 2% 0px;">
                                            <div class="col-md-12">
                                                <div class="form-check box-icon">
                                                    <label class="form-check-label icon-lab " id="box-icon5" onclick="myFunctionterm3(),removeterm3(),functionshowyes(),removeshowno()" for="exampleRadios5">
                                                        <input required style="position:inherit; opacity:0;" class="form-check-input" name="isClaimInLastYear" type="radio" id="exampleRadios5" value="1">
                                                        <span> Yes</span>
                                                    </label>
                                                </div>
                                                <div class="form-check box-icon">
                                                    <label class="form-check-label icon-lab red" id="box-icon6" onclick="myFunctionterm4(),removeterm4(),functionshowno(),removeshowyes()" for="exampleRadios6">
                                                        <input style="position:inherit; opacity:0;" class="form-check-input" name="isClaimInLastYear" type="radio" id="exampleRadios6" value="0">
                                                        <span>No</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <!--                                                 <div id="show_div_onclick_yes" class="form-row">
                                                    <div class="col-md-3"></div>
                                            			 <div class="col-md-6">
                                            			 <div class="form-group">
   										    			 <label>NCB</label>
   										    			<select class="form-control " id="ncbzero" name="previousNoClaimBonus" required>
   										    			<option value="ZERO">0%</option>
                                                        
                                            			 </select>
  													</div>
                                                    </div>
                                                   <div class="col-md-3"></div>
        						    </div>   -->
                                        <div id="show_div_onclick_no" class="form-row">
                                            <div class="col-md-3"></div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label>NCB</label>
                                                    <select class="form-control " id="ncbmore" name="previousNoClaimBonus">
                                                        <option value="">Select NCB Value</option>
                                                        <option value="0">0%</option>
                                                        <option value="20">20%</option>
                                                        <option value="25">25%</option>
                                                        <option value="35">35%</option>
                                                        <option value="45">45%</option>
                                                        <option value="50">50%</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-3"></div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-3">
                                </div>

                            </div>
                            <?php endif; ?>
                        </div>
                        <div class="image-box">
                            <img style="width: 20%;margin: 0 auto;display: flex;" src="<?php echo base_url() ?>assets/front//images/tw.gif">
                        </div>
                        <div class="col-md-12">
                            <button type="submit" class="btn btn-primary form-btn">Continue to Get a Quote<i style="padding: 4px;" class="fa fa-arrow-right" aria-hidden="true"></i></button>
                        </div>

                    </div>

                </form>


            </div>

        </div>
    </div>
</section>


<script>
    function myFunctionterm() {
        document.getElementById("box-icon3").classList.add('icon-lab-hover');
    }

    function removeterm() {
        document.getElementById("box-icon4").classList.remove('icon-lab-hover');
    }
</script>

<script>
    function myFunctionterm2() {
        document.getElementById("box-icon4").classList.add('icon-lab-hover');
        //alert("I am an alert box!");
    }

    function removeterm2() {
        document.getElementById("box-icon3").classList.remove('icon-lab-hover');
    }
</script>

<script>
    function myFunctionterm3() {
        document.getElementById("box-icon5").classList.add('icon-lab-hover');
    }

    function removeterm3() {
        document.getElementById("box-icon6").classList.remove('icon-lab-hover');
    }
</script>

<script>
    function myFunctionterm4() {
        document.getElementById("box-icon6").classList.add('icon-lab-hover');
        //alert("I am an alert box!");
    }
	
    function removeterm4() {
		document.getElementById("box-icon5").classList.remove('icon-lab-hover');
    }
</script>
	<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

<script>
    $(function() {
        $('.selectpicker').selectpicker();
        $('.selectpicker').selectpicker('refresh');
    });


    $(function() {
        $('#previous').selectpicker();
    });
</script>

<script>
    function functionshowyes() {
        document.getElementById("show_div_onclick_yes").classList.add('show_div');
        //alert("I am an alert box!");
    }

    function removeshowno() {
        document.getElementById("show_div_onclick_no").classList.remove('show_div');
    }
</script>
<script>
    function functionshowno() {
        document.getElementById("show_div_onclick_no").classList.add('show_div');
        //alert("I am an alert box!");
    }

    function removeshowyes() {
        document.getElementById("show_div_onclick_yes").classList.remove('show_div');
    }
	$('#box-icon5').click(()=>{
		$('#ncbmore > option:not([value=0])').hide();
	});
	$('#box-icon6').click(()=>{
		$('#ncbmore > option:not([value=0])').show();
	});
</script>




<script>
    var base_url = '<?php echo base_url(); ?>';
    var lang_base_url = '<?php echo base_url(); ?>';
    var csrf_token_name = '<?php echo $this->security->get_csrf_token_name(); ?>';
    var csrf_cookie_name = '<?php echo $this->config->item('csrf_cookie_name'); ?>';

    function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }
</script>
<script type="text/javascript">
    var url = '<?php echo site_url(); ?>'
    $("#FOUR_wheeler_make").change(function() {
        // var csrf_cookie_name = '<?php echo $this->config->item('csrf_cookie_name'); ?>';
        var FOUR_wheeler_make = $("#FOUR_wheeler_make").val();
        var data = {
            'FOUR_wheeler_make': FOUR_wheeler_make
        };
        data[csrf_token_name] = getCookie(csrf_cookie_name);
        if (FOUR_wheeler_make == 0) {
            $("#FOUR_wheeler_model").html('<option value="">No Model for this Make</option>');
        } else {
            $.ajax({
                type: "post",
                url: url + "vehicles_controller/get_fw_model",
                data: data,
                success: function(data) {
                    // alert(data);
                    $("#FOUR_wheeler_model").html(data);
                }
            });
        }
    });
</script>
<script type="text/javascript">
    var url = '<?php echo site_url(); ?>'
    $("#FOUR_wheeler_model").change(function() {
        // var csrf_cookie_name = '<?php echo $this->config->item('csrf_cookie_name'); ?>';
        var FOUR_wheeler_make = $("#FOUR_wheeler_make").val();
        var FOUR_wheeler_model = $("#FOUR_wheeler_model").val();
        var data = {
            'FOUR_wheeler_make': FOUR_wheeler_make,
            'FOUR_wheeler_model': FOUR_wheeler_model
        };
        data[csrf_token_name] = getCookie(csrf_cookie_name);
        if (FOUR_wheeler_model == 0) {
            $("#car_variant").html('<option value="">No Variant for this Model</option>');
        } else {
            $.ajax({
                type: "post",
                url: url + "vehicles_controller/get_fw_variant",
                data: data,
                success: function(data) {
                    // alert(data);
                    $("#FOUR_wheeler_variant").html(data);
                }
            });
        }
    });
</script>
<script type="text/javascript">
    var url = '<?php echo site_url(); ?>'
    $("#FOUR_wheeler_variant").change(function() {
        var FOUR_wheeler_make = $("#FOUR_wheeler_make").val();
        var FOUR_wheeler_model = $("#FOUR_wheeler_model").val();
        var FOUR_wheeler_variant = $("#FOUR_wheeler_variant").val();
        var data = {
            'FOUR_wheeler_make': FOUR_wheeler_make,
            'FOUR_wheeler_model': FOUR_wheeler_model,
            'FOUR_wheeler_variant': FOUR_wheeler_variant
        };
        data[csrf_token_name] = getCookie(csrf_cookie_name);
        if (FOUR_wheeler_variant == 0) {
            $("#fw_fuel_type").html('<option value="">No fuel type for this Variant</option>');
        } else {
            $.ajax({
                type: "post",
                url: url + "vehicles_controller/get_fw_fuel",
                data: data,
                success: function(data) {
                    // alert(data);
                    $("#fw_fuel_type").html(data);
                }
            });
        }
    });



    $('#exampleRadios6').change(function(e) {
        var isChecked = $('#exampleRadios6:checked').val() ? true : false;
        if (isChecked) {
            $('#ncbmore').attr('required', "");
        }
    });
    $('#exampleRadios5').change(function(e) {
        var isChecked = $('#exampleRadios5:checked').val() ? true : false;
        if (isChecked) {
            $('#ncbmore').removeAttr('required');
        }
    });

    function checkIf(node) {
        if (node.checked) {
            document.querySelector('#ncbForm').setAttribute('novalidate', '');
        } else {
            alert('unchecked');
            document.querySelector('#ncbForm').removeAttribute('novalidate');
        }
    }
</script>